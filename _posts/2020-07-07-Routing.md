---
title: "Network: Routing 개념 "
last_modified_at: 2020-07-07 T20:20:02-05:00
categories:
  - Network
tags:
  - Routing protocol
  - Routing
toc: true 
toc_label: "Table of Contents"
toc_icon: "cog"
toc_sticky: true 
author_profile: true 
read_time: false 
---

---
### 스위치와 라우터
---

* 라우터는 수신한 패킷의 목적지 네트워크 계층 주소를 참조하여 전송 시키는 장비다
* 라우터는 서브넷이 다른 장비들 간의 통신에 반드시 필요하다
* 스위치는 MAC 주소 테이블에 없는 프레임을 수신하면 모든 포트로 플러딩 시키지만 라우터는 목적지 IP 주소가 브로드캐스트, 멀티캐스트 및 라우팅 테이블에 없는 패킷을 수신하면 모두 차단한다
* 결과적으로 라우터를 사용하면 브로드캐스트 영역 수가 증가하고 영역의 크기는 줄어든다
{: .notice}

| 항목 | 스위치 | 라우터 |  
| ------ | ------- | ------- |   
| 동작 계층 | L2 | L3 |   
| 용도 | 동일 서브넷 | 다른 서브넷 |  
| 참조 | MAC 테이블 | 라우팅 테이블 |  
| 유지 | Transparent bridging | Routing Protocol |  
| 루프 방지 | STP/RSTP/MSTP | 라우팅 프로토콜 |  
| 전송 | MAC 주소 | IP/IPv6 |  
| 브로드캐스트 패킷 | 플러딩 | 차단 |   
| 멀티캐스트 패킷 | 플러딩 | 차단 |   
| 목적지 모를때 | 플러딩 | 차단 |  
| 패킷 처리 속도 | 빠름 | 느림 |  
| ------- | ------- | ------- |  

---
### 패킷 전송 과정
---

1. PC1 에서 PC2로 패킷을 전송한다고 가정하자. PC1은 PC2로 가기 위한 목적지 IP를 지정한다. 혹은 DNS를 통해서 알아낸다. 목적지로 가기위한 MAC주소를 알아내기위해 ARP를 게이트웨이에 전송한다.  
2. L2에서는 ARP 브로드 캐스트 프레임을 라우터로 플러딩한다. 수신한 라우터는 자신의 MAC 주소를 PC1에 알려준다. 이때, IP 목적지 주소는 최종목적지로 유지하고 다음홉으로 가기위한 MAC주소를 저장한다.

{: .notice}
